# ============================================================================
# LIAUH Configuration - System Scripts
# Path prefix: scripts/
# ============================================================================

scripts:
  ubuntu:
    description: "Ubuntu system management (updates & Pro)"
    category: "System Updates"
    file: "ubuntu.sh"
    needs_sudo: true
    os_only: ubuntu
    
    actions:
      - name: "update"
        parameter: "update"
        description: "Update system (handles 25.04 â†’ 25.10 upgrades)"
        prompts: []
      
      - name: "ubuntu-pro"
        parameter: "pro"
        description: "Attach Ubuntu Pro subscription"
        prompts:
          - question: "Ubuntu Pro subscription token?"
            variable: "KEY"
            type: "text"
            default: ""
      
      - name: "detach"
        parameter: "detach"
        description: "Detach Ubuntu Pro subscription"
        prompts: []

  ca-cert-update:
    description: "Install CA certificate from a server"
    category: "Security"
    file: "ca-cert-update.sh"
    needs_sudo: true
    os_family:
      - debian
      - redhat
    
    actions:
      - name: "update"
        parameter: "update"
        prompts:
          - question: "CA server hostname? (e.g., cert.my.lan)"
            variable: "SERVER"
            type: "text"
            default: "cert.my.lan"

  compression:
    description: "Manage compression tools (zip/unzip)"
    category: "Tools"
    file: "compression.sh"
    needs_sudo: true
    os_family:
      - debian
      - redhat
      - arch
      - suse
      - alpine
    
    actions:
      - name: "install"
        parameter: "install"
        description: "Install zip and unzip"
        prompts: []
      
      - name: "uninstall"
        parameter: "uninstall"
        description: "Uninstall zip and unzip"
        prompts: []

  mariadb:
    description: "MariaDB database server management"
    category: "Database"
    file: "mariadb.sh"
    needs_sudo: true
    os_family:
      - debian
      - redhat
    
    actions:
      - name: "install"
        parameter: "install"
        description: "Install MariaDB"
        prompts:
          - question: "Root password for MariaDB?"
            variable: "ROOT_PASSWORD"
            type: "text"
            default: ""
      
      - name: "update"
        parameter: "update"
        description: "Update MariaDB"
        prompts: []
      
      - name: "uninstall"
        parameter: "uninstall"
        description: "Uninstall MariaDB"
        prompts:
          - question: "Delete all data, config, and databases?"
            variable: "DELETE_DATA"
            type: "yes/no"
            default: "no"
      
      - name: "config"
        parameter: "config"
        description: "Configure MariaDB settings"
        prompts:
          - question: "Max connections? (leave empty for default)"
            variable: "MAX_CONNECTIONS"
            type: "text"
            default: ""
          
          - question: "InnoDB buffer pool size? (e.g., 256M, 1G)"
            variable: "INNODB_BUFFER"
            type: "text"
            default: ""
          
          - question: "Bind address? (default: 127.0.0.1)"
            variable: "BIND_ADDRESS"
            type: "text"
            default: "127.0.0.1"
          
          - question: "Default character set? (default: utf8mb4)"
            variable: "CHARSET"
            type: "text"
            default: "utf8mb4"
